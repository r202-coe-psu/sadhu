{% extends '/base/default-dashboard.html' %}

{% block breadcrumbs %}
<a href="{{ url_for('administration.courses.index') }}" class="breadcrumb">Courses</a>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col s12">
    <h3>Assignment Score</h3>
    <h4>{{ student.first_name }} {{ student.last_name }}</h4>
  </div>
</div>

<div class="row">
	<div class="col s12">

	 <table>
			<thead>
				<tr>
          <th>Name</th>
          <th>Challenge Score</th>
					<th>Score</th>
					<th>Operation</th>
				</tr>
			</thead>
			<tbody>
{% for assignment in assignments  %}
				<tr>
          <td>
            {{ assignment.name }}
          </td>
          <td>
            {% for challenge in assignment.challenges %}
              {{ challenge.get_solution_score(class_, student) }} 
            {% endfor %}
          </td>
          <td>
            {{ assignment.get_score(class_=class_, user=student) }}
          </td>
          <td>
            {% if class_.owner == current_user %}
              <a href="{{ url_for('administration.classes.show_student_assignment', class_id=class_.id, student_id=student.id, assignment_id=assignment.id) }}"><i class="material-icons">visibility</i></a>
            {% elif class_.is_teaching_assistant(current_user) %}
              <a href="{{ url_for('teaching_assistants.classes.show_student_assignment', class_id=class_.id, student_id=student.id, assignment_id=assignment.id) }}"><i class="material-icons">visibility</i></a>
            {% endif %}
		      </td>

				</tr>
{% endfor %}
			</tbody>
		</table>

  </div>
</div>

{% endblock %}
